Лабораторная работа №9
Тема: Шаблонные функции. Группировка элементов массива

Цель работы:

Целью лабораторной работы является изучение шаблонных функций в C++,
а также освоение приёма обобщения алгоритмов с помощью передачи
функций (лямбд, функторов, указателей на функции) в качестве параметров.

В работе реализуется универсальная функция группировки элементов
массива по заданному правилу и вычисления статистики по каждой группе.


Постановка задачи:

Реализовать шаблонную функцию:
    groupStats(arr, n, keyFunc, valueFunc

Функция принимает массив arr из n элементов и выполняет их группировку
по ключу, который вычисляется с помощью функции keyFunc(x).

Для каждой группы необходимо вычислить и сохранить следующую статистику:
1) key       – ключ группы
2) count     – количество элементов в группе
3) minElem   – минимальный элемент группы (по оператору <)
4) maxElem   – максимальный элемент группы (по оператору <)
5) sum       – сумма значений valueFunc(x) по группе
6) avg       – среднее значение valueFunc(x) по группе

Результат работы функции должен возвращаться в виде:
    std::vector<GroupInfo<...>>


Описание решения:

Для хранения статистики одной группы используется структура GroupInfo,
которая содержит ключ группы, счётчик элементов, минимальный и
максимальный элементы, сумму и среднее значение.

Функция groupStats является шаблонной и не зависит от конкретного
типа элементов массива. Тип ключа группы определяется автоматически
с помощью decltype на основе возвращаемого значения keyFunc(x).

Алгоритм работы функции:
1) Последовательно пройти по всем элементам массива.
2) Для каждого элемента вычислить ключ группы с помощью keyFunc(x).
3) Найти группу с таким ключом среди уже созданных групп.
4) Если группа не найдена — создать новую группу и инициализировать
   её поля.
5) Если группа найдена — обновить статистику:
   - увеличить счётчик элементов,
   - обновить минимальный и максимальный элементы,
   - добавить значение valueFunc(x) к сумме,
   - пересчитать среднее значение.

Минимум и максимум элементов вычисляются строго с использованием
оператора <, как требуется по заданию.

Среднее значение avg вычисляется как:
    avg = sum / count
Тип среднего значения является вещественным (double).


Демонстрация работы программы:

В функции main() показана работа groupStats на трёх массивах:

1) Массив int
   - ключ: последняя цифра числа (x % 10)
   - value: само число x

2) Массив double
   - ключ:
       0, если x < 0
       1, если 0 <= x <= 10
       2, если x > 10
   - value: само число x

3) Массив std::string
   - ключ: первая буква строки (тип char)
   - value: длина строки

Для каждой группы выводится статистика в формате:
    key, count, minElem, maxElem, sum, avg


Ограничения и требования:

- Готовые функции группировки из стандартных библиотек не используются.
- Минимальный и максимальный элементы определяются только с помощью
  оператора < для типа элементов массива.
- Среднее значение вычисляется как sum / count.
- Функция groupStats реализована как шаблонная.
- keyFunc и valueFunc передаются как параметры функции.


Вывод:

В результате работы реализована универсальная шаблонная функция,
позволяющая выполнять группировку и статистический анализ массивов
различных типов без переписывания алгоритма. Изменение правила
группировки или вычисления суммы достигается только заменой
передаваемых функций keyFunc и valueFunc.
